\doxysection{expected\+\_\+shim.\+h}
\hypertarget{expected__shim_8h_source}{}\label{expected__shim_8h_source}\index{takum/expected\_shim.h@{takum/expected\_shim.h}}
\mbox{\hyperlink{expected__shim_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#if\ \_\_cplusplus\ >=\ 202302L}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <expected>}}
\DoxyCodeLine{00022\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetakum_1_1detail}{takum::detail}}\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{using\ }expected\ =\ std::expected<T,\ takum\_error>;}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <optional>}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ <variant>}}
\DoxyCodeLine{00033\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacetakum_1_1detail}{takum::detail}}\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classtakum_1_1detail_1_1expected}{expected}}\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ std::optional<T>\ value\_;}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ has\_value\_\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structtakum_1_1takum__error}{takum\_error}}\ error\_;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_a0c7a317c165d281d2f665804f14b0b4c}{expected}}()\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ :\ has\_value\_(\mbox{\hyperlink{structtakum_1_1takum}{false}})\ \{\}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_a1c6a3810b60e61da31f06f53093850c1}{expected}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structtakum_1_1takum}{T}}\&\ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_a72faa1694b8adbea886f6da5e80a52f5}{value}})\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ :\ value\_(\mbox{\hyperlink{classtakum_1_1detail_1_1expected_a72faa1694b8adbea886f6da5e80a52f5}{value}}),\ has\_value\_(\textcolor{keyword}{true})\ \{\}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_a7761210bf73a7c00e4755e363c281e4b}{expected}}(\mbox{\hyperlink{structtakum_1_1takum__error}{takum\_error}}\ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_aef0f9b2f4043284e9565d6d1292b8e7d}{error}})\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ :\ has\_value\_(\textcolor{keyword}{false}),\ error\_(\mbox{\hyperlink{classtakum_1_1detail_1_1expected_aef0f9b2f4043284e9565d6d1292b8e7d}{error}})\ \{\}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_a345c92362d64e3b26158a2e330301691}{has\_value}}()\ \mbox{\hyperlink{structtakum_1_1takum}{const}}\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ \{\ \textcolor{keywordflow}{return}\ has\_value\_;\ \}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structtakum_1_1takum}{T}}\&\ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_a72faa1694b8adbea886f6da5e80a52f5}{value}}()\ \mbox{\hyperlink{structtakum_1_1takum}{const}}\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ \{\ \textcolor{keywordflow}{return}\ value\_;\ \}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structtakum_1_1takum__error}{takum\_error}}\ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_aef0f9b2f4043284e9565d6d1292b8e7d}{error}}()\ \mbox{\hyperlink{structtakum_1_1takum}{const}}\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ \{\ \textcolor{keywordflow}{return}\ error\_;\ \}}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{operator}\ \mbox{\hyperlink{structtakum_1_1takum}{bool}}()\ \mbox{\hyperlink{structtakum_1_1takum}{const}}\ \mbox{\hyperlink{structtakum_1_1takum}{noexcept}}\ \{\ \textcolor{keywordflow}{return}\ has\_value\_;\ \}}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structtakum_1_1takum}{T}}\&\ \mbox{\hyperlink{classtakum_1_1detail_1_1expected_ae7caccebcd6f7571fed8c91e10e1282d}{value\_or}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structtakum_1_1takum}{T}}\&\ \mbox{\hyperlink{structtakum_1_1takum}{dflt}})\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{\ \textcolor{keywordflow}{return}\ has\_value\_\ ?\ *value\_\ :\ \mbox{\hyperlink{structtakum_1_1takum}{dflt}};\ \}}
\DoxyCodeLine{00059\ \ \ \ \ \};}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
