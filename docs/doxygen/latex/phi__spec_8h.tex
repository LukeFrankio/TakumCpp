\doxysection{takum/internal/phi\+\_\+spec.h File Reference}
\hypertarget{phi__spec_8h}{}\label{phi__spec_8h}\index{takum/internal/phi\_spec.h@{takum/internal/phi\_spec.h}}


Specification and constants for Gaussian-\/log (Φ) approximation in Takum\+Cpp.  


{\ttfamily \#include $<$cstdint$>$}\newline
{\ttfamily \#include "{}generated/phi\+\_\+coeffs.\+h"{}}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi}{takum\+::internal\+::phi}}
\begin{DoxyCompactList}\small\item\em Internal implementation of Gaussian-\/log (Φ) approximation for takum arithmetic. \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespacetakum}{takum}}
\begin{DoxyCompactList}\small\item\em Compatibility shim for std\+::expected when C++23 is not available. \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespacetakum_1_1internal}{takum\+::internal}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_aec4a23fed783b0a1b3e1533fcafd588c}{takum\+::internal\+::phi\+::\+LUT\+\_\+\+SIZE\+\_\+\+TAKUM16}} = 1024
\begin{DoxyCompactList}\small\item\em LUT size for takum16 linear interpolation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_a6bdce3940311db7be197f0aa99a0a500}{takum\+::internal\+::phi\+::\+LUT\+\_\+\+SIZE\+\_\+\+TAKUM32}} = 4096
\begin{DoxyCompactList}\small\item\em LUT size for takum32 linear interpolation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_a00afe0870e92cdbfd2d45362761c3ddb}{takum\+::internal\+::phi\+::\+LUT\+\_\+\+SIZE\+\_\+\+TAKUM64}} = 256
\begin{DoxyCompactList}\small\item\em Coarse LUT size for takum64+ hybrid polynomial approach. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_a49855b0f464fe7f2ee0fa420e434474f}{takum\+::internal\+::phi\+::\+POLY\+\_\+\+DEGREE\+\_\+\+MIN}} = 5
\begin{DoxyCompactList}\small\item\em Minimum polynomial degree for minimax approximation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_a2e27b42d074052c63c61078638bb33eb}{takum\+::internal\+::phi\+::\+POLY\+\_\+\+DEGREE\+\_\+\+MAX}} = 7
\begin{DoxyCompactList}\small\item\em Maximum polynomial degree for minimax approximation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_aeeab71f2035375272c8c231f31bd3582}{takum\+::internal\+::phi\+::\+DEFAULT\+\_\+\+POLY\+\_\+\+DEGREE}} = 5
\begin{DoxyCompactList}\small\item\em Default polynomial degree used for takum64 and larger formats. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_a7564c508ac18826562a5c6953b571f01}{takum\+::internal\+::phi\+::\+LUT\+\_\+\+Q\+\_\+\+FRAC\+\_\+\+BITS\+\_\+\+TAKUM16}} = 16
\begin{DoxyCompactList}\small\item\em Fractional bits in Q-\/format for takum16 LUT entries (Q15.\+16) \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_af158b7988eb85c911e2ca7b9d6187fc8}{takum\+::internal\+::phi\+::\+LUT\+\_\+\+Q\+\_\+\+FRAC\+\_\+\+BITS\+\_\+\+TAKUM32}} = 16
\begin{DoxyCompactList}\small\item\em Fractional bits in Q-\/format for takum32 LUT entries (Q15.\+16) \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_aaf62a09a6d7d393e035bb5f7f862ae51}{takum\+::internal\+::phi\+::\+LUT\+\_\+\+Q\+\_\+\+FRAC\+\_\+\+BITS\+\_\+\+TAKUM64}} = 16
\begin{DoxyCompactList}\small\item\em Fractional bits in Q-\/format for takum64+ polynomial coefficients (Q16.\+16) \end{DoxyCompactList}\item 
\mbox{\hyperlink{structtakum_1_1takum}{constexpr}} \mbox{\hyperlink{structtakum_1_1takum}{int}} \mbox{\hyperlink{namespacetakum_1_1internal_1_1phi_a3095d238dd8b97821866f64ed70e9d78}{takum\+::internal\+::phi\+::\+POLY\+\_\+\+Q\+\_\+\+FRAC\+\_\+\+BITS}} = 16
\begin{DoxyCompactList}\small\item\em Fractional bits in Q-\/format for polynomial coefficients. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Specification and constants for Gaussian-\/log (Φ) approximation in Takum\+Cpp. 

This header defines the parameters for the LUT + interpolation / hybrid polynomial approximation of the Gaussian-\/log function Φ used for addition/subtraction in log domain.

Strategy\+:
\begin{DoxyItemize}
\item For takum16\+: LUT size 1024, linear interpolation (Q-\/format Q15.\+16).
\item For takum32\+: LUT size 4096, linear interpolation (Q-\/format Q15.\+16).
\item For takum64+\+: Coarse LUT size 256, minimax polynomials degree 5-\/7 per interval (Q-\/format Q16.\+16).
\end{DoxyItemize}

Q-\/format\+: Fixed-\/point representation for LUT entries and coefficients. Qm.\+n means m integer bits, n fractional bits. Error budgets\+: Per-\/interval max/mean absolute errors computed offline and included in generated header.

Generated content\+: \#include "{}generated/phi\+\_\+coeffs.\+h"{} contains poly\+\_\+coeffs array, max\+\_\+errors array. To regenerate\+: Run {\ttfamily python3 scripts/gen\+\_\+poly\+\_\+coeffs.\+py \texorpdfstring{$>$}{>} \doxylink{phi__coeffs_8h}{include/takum/internal/generated/phi\+\_\+coeffs.\+h}}

Accuracy targets (Proposition 11)\+: Worst-\/case error per operation within λ(p) ulp bound for the precision. The offline script produces machine-\/checkable error reports; see gen\+\_\+poly\+\_\+coeffs.\+py for details. 