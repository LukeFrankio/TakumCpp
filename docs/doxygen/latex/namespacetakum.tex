\doxysection{takum Namespace Reference}
\hypertarget{namespacetakum}{}\label{namespacetakum}\index{takum@{takum}}


Compatibility shim for std\+::expected when C++23 is not available.  


\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespacetakum_1_1detail}{detail}}
\item 
namespace \mbox{\hyperlink{namespacetakum_1_1internal}{internal}}
\item 
namespace \mbox{\hyperlink{namespacetakum_1_1types}{types}}
\begin{DoxyCompactList}\small\item\em Convenience namespace containing common takum type aliases. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structtakum_1_1expected__shim}{expected\+\_\+shim}}
\begin{DoxyCompactList}\small\item\em Lightweight std\+::expected-\/like type for pre-\/\+C++23 compatibility. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structtakum_1_1takum}{takum}}
\begin{DoxyCompactList}\small\item\em Configurable-\/width Takum numeric type. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structtakum_1_1takum__error}{takum\+\_\+error}}
\begin{DoxyCompactList}\small\item\em Lightweight error value returned by expected/optional helpers. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Concepts}
\begin{DoxyCompactItemize}
\item 
concept \mbox{\hyperlink{concepttakum_1_1takum__floating__point}{takum\+\_\+floating\+\_\+point}}
\begin{DoxyCompactList}\small\item\em Minimal concept describing the takum-\/like public API used by the library and tests. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \mbox{\hyperlink{namespacetakum_a5f54a9b221a1e3615056ca4f79a2fce6}{operator+}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \mbox{\hyperlink{namespacetakum_a3049e21727e438435ee74e0fea9c2f62}{operator-\/}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \mbox{\hyperlink{namespacetakum_a192fc59979c2d2111ea93bed94b9f666}{operator\texorpdfstring{$\ast$}{*}}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \mbox{\hyperlink{namespacetakum_aa8fe38c7dea02d180625303dfd88e4c9}{operator/}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \mbox{\hyperlink{namespacetakum_a196327967b7390e1b41e84411d66e477}{abs}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a) noexcept
\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Safe arithmetic variants}\par
{\em Functions that provide error handling for arithmetic operations instead of propagating NaR values. These return {\ttfamily std\+::expected} when available (C++23+) or {\ttfamily std\+::optional} as a fallback for older standards.

\begin{DoxyNote}{Note}
These functions return an error when\+:
\begin{DoxyItemize}
\item Any operand is NaR
\item The result cannot be represented (overflow/underflow to NaR) 
\end{DoxyItemize}

Prefer these functions when explicit error handling is required 
\end{DoxyNote}
}\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ \mbox{\hyperlink{namespacetakum_a55fe505184bb8ca00cf24307517299d7}{safe\+\_\+add}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\begin{DoxyCompactList}\small\item\em Safe addition for older C++ standards (returns optional). \end{DoxyCompactList}\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ \mbox{\hyperlink{namespacetakum_ae7b0630d123d3f7251ea89f869d108ef}{safe\+\_\+mul}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\begin{DoxyCompactList}\small\item\em Safe multiplication for older C++ standards (returns optional). \end{DoxyCompactList}\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ \mbox{\hyperlink{namespacetakum_a4022825fc95e9cb450d79361de0c3f59}{safe\+\_\+sub}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\begin{DoxyCompactList}\small\item\em Safe subtraction for older C++ standards (returns optional). \end{DoxyCompactList}\item 
{\footnotesize template$<$size\+\_\+t N$>$ }\\std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ \mbox{\hyperlink{namespacetakum_abcc36be97e5b6d3339175d43321392a9}{safe\+\_\+div}} (const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&a, const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&b) noexcept
\begin{DoxyCompactList}\small\item\em Safe division for older C++ standards (returns optional). \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}


\doxysubsection{Detailed Description}
Compatibility shim for std\+::expected when C++23 is not available. 

Core namespace for the Takum logarithmic numeric format library.

Provides a minimal expected-\/like interface for use with takum types on older C++ standards. Only implements the subset of functionality needed by the takum library.

This namespace contains the main {\ttfamily takum\texorpdfstring{$<$}{<}N\texorpdfstring{$>$}{>}} template class and supporting utilities for working with tapered logarithmic number formats. The library provides a parametric implementation supporting bit widths from 2 to 256 bits.

Key components\+:
\begin{DoxyItemize}
\item {\ttfamily takum\texorpdfstring{$<$}{<}N\texorpdfstring{$>$}{>}}\+: The main numeric type template
\item {\ttfamily \doxylink{structtakum_1_1takum__error}{takum\+\_\+error}}\+: Error type for safe operations ~\newline

\item {\ttfamily \doxylink{concepttakum_1_1takum__floating__point}{takum\+\_\+floating\+\_\+point}}\+: Concept for takum-\/like types
\item Encoding/decoding functions following the reference specification
\end{DoxyItemize}

\begin{DoxyNote}{Note}
All operations handle the special NaR (Not-\/a-\/\+Real) value following the specification\textquotesingle{}s propagation rules. 
\end{DoxyNote}


\label{doc-func-members}
\Hypertarget{namespacetakum_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{namespacetakum_a196327967b7390e1b41e84411d66e477}\index{takum@{takum}!abs@{abs}}
\index{abs@{abs}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{abs()}{abs()}}
{\footnotesize\ttfamily \label{namespacetakum_a196327967b7390e1b41e84411d66e477} 
template$<$size\+\_\+t N$>$ \\
\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ takum\+::abs (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Absolute value for takum. \Hypertarget{namespacetakum_a192fc59979c2d2111ea93bed94b9f666}\index{takum@{takum}!operator\texorpdfstring{$\ast$}{*}@{operator\texorpdfstring{$\ast$}{*}}}
\index{operator\texorpdfstring{$\ast$}{*}@{operator\texorpdfstring{$\ast$}{*}}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{operator\texorpdfstring{$\ast$}{*}()}{operator*()}}
{\footnotesize\ttfamily \label{namespacetakum_a192fc59979c2d2111ea93bed94b9f666} 
template$<$size\+\_\+t N$>$ \\
\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ takum\+::operator\texorpdfstring{$\ast$}{*} (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Multiply two takum values. \Hypertarget{namespacetakum_a5f54a9b221a1e3615056ca4f79a2fce6}\index{takum@{takum}!operator+@{operator+}}
\index{operator+@{operator+}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{operator+()}{operator+()}}
{\footnotesize\ttfamily \label{namespacetakum_a5f54a9b221a1e3615056ca4f79a2fce6} 
template$<$size\+\_\+t N$>$ \\
\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ takum\+::operator+ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Add two takum values. \begin{DoxyNote}{Note}
Uses host double intermediate; NaR propagates. 
\end{DoxyNote}
\Hypertarget{namespacetakum_a3049e21727e438435ee74e0fea9c2f62}\index{takum@{takum}!operator-\/@{operator-\/}}
\index{operator-\/@{operator-\/}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{operator-\/()}{operator-()}}
{\footnotesize\ttfamily \label{namespacetakum_a3049e21727e438435ee74e0fea9c2f62} 
template$<$size\+\_\+t N$>$ \\
\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ takum\+::operator-\/ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Subtract two takum values. \Hypertarget{namespacetakum_aa8fe38c7dea02d180625303dfd88e4c9}\index{takum@{takum}!operator/@{operator/}}
\index{operator/@{operator/}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{operator/()}{operator/()}}
{\footnotesize\ttfamily \label{namespacetakum_aa8fe38c7dea02d180625303dfd88e4c9} 
template$<$size\+\_\+t N$>$ \\
\mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ takum\+::operator/ (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}

Divide two takum values. Division by zero yields NaR. \Hypertarget{namespacetakum_a55fe505184bb8ca00cf24307517299d7}\index{takum@{takum}!safe\_add@{safe\_add}}
\index{safe\_add@{safe\_add}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{safe\_add()}{safe\_add()}}
{\footnotesize\ttfamily \label{namespacetakum_a55fe505184bb8ca00cf24307517299d7} 
template$<$size\+\_\+t N$>$ \\
std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ takum\+::safe\+\_\+add (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Safe addition for older C++ standards (returns optional). 

Performs addition of two takum values with error checking, returning std\+::nullopt on error conditions instead of propagating NaR.


\begin{DoxyTemplParams}{Template Parameters}
{\em N} & Bit width of the takum format \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em a} & First operand \\
\hline
{\em b} & Second operand \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::optional containing result or nullopt on error 
\end{DoxyReturn}
\Hypertarget{namespacetakum_abcc36be97e5b6d3339175d43321392a9}\index{takum@{takum}!safe\_div@{safe\_div}}
\index{safe\_div@{safe\_div}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{safe\_div()}{safe\_div()}}
{\footnotesize\ttfamily \label{namespacetakum_abcc36be97e5b6d3339175d43321392a9} 
template$<$size\+\_\+t N$>$ \\
std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ takum\+::safe\+\_\+div (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Safe division for older C++ standards (returns optional). 

Performs division of two takum values with error checking, returning std\+::nullopt on error conditions including division by zero.


\begin{DoxyTemplParams}{Template Parameters}
{\em N} & Bit width of the takum format \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em a} & Dividend \\
\hline
{\em b} & Divisor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::optional containing result or nullopt on error 
\end{DoxyReturn}
\Hypertarget{namespacetakum_ae7b0630d123d3f7251ea89f869d108ef}\index{takum@{takum}!safe\_mul@{safe\_mul}}
\index{safe\_mul@{safe\_mul}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{safe\_mul()}{safe\_mul()}}
{\footnotesize\ttfamily \label{namespacetakum_ae7b0630d123d3f7251ea89f869d108ef} 
template$<$size\+\_\+t N$>$ \\
std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ takum\+::safe\+\_\+mul (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Safe multiplication for older C++ standards (returns optional). 

Performs multiplication of two takum values with error checking, returning std\+::nullopt on error conditions instead of propagating NaR.


\begin{DoxyTemplParams}{Template Parameters}
{\em N} & Bit width of the takum format \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em a} & First operand \\
\hline
{\em b} & Second operand \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::optional containing result or nullopt on error 
\end{DoxyReturn}
\Hypertarget{namespacetakum_a4022825fc95e9cb450d79361de0c3f59}\index{takum@{takum}!safe\_sub@{safe\_sub}}
\index{safe\_sub@{safe\_sub}!takum@{takum}}
\doxysubsubsection{\texorpdfstring{safe\_sub()}{safe\_sub()}}
{\footnotesize\ttfamily \label{namespacetakum_a4022825fc95e9cb450d79361de0c3f59} 
template$<$size\+\_\+t N$>$ \\
std\+::optional$<$ \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ $>$ takum\+::safe\+\_\+sub (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{a}{, }\item[{const \mbox{\hyperlink{structtakum_1_1takum}{takum}}$<$ N $>$ \&}]{b}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [noexcept]}}



Safe subtraction for older C++ standards (returns optional). 

Performs subtraction of two takum values with error checking, returning std\+::nullopt on error conditions instead of propagating NaR.


\begin{DoxyTemplParams}{Template Parameters}
{\em N} & Bit width of the takum format \\
\hline
\end{DoxyTemplParams}

\begin{DoxyParams}{Parameters}
{\em a} & Minuend \\
\hline
{\em b} & Subtrahend \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::optional containing result or nullopt on error 
\end{DoxyReturn}
